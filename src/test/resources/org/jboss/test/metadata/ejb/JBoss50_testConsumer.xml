<?xml version="1.0"?>
<jboss
        xmlns="http://www.jboss.com/xml/ns/javaee"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.jboss.com/xml/ns/javaee
                            http://www.jboss.org/j2ee/schema/jboss_5_0.xsd"
        version="3.0">
	<enterprise-beans>
    	<consumer>
         	<ejb-name>DeploymentDescriptorQueueTestConsumer</ejb-name>
         	<ejb-class>org.jboss.ejb3.test.consumer.DeploymentDescriptorQueueTestConsumer</ejb-class>
         	<message-destination>queue/consumertest</message-destination>
	     	<message-destination-type>javax.jms.Queue</message-destination-type>
         	<producer>
            	<class>org.jboss.ejb3.test.consumer.DeploymentDescriptorQueueTestRemote</class>
         	</producer>
         	<producer>
            	<class>org.jboss.ejb3.test.consumer.DeploymentDescriptorQueueTestXA</class>
            	<connection-factory>java:/JmsXA</connection-factory>
         	</producer>
         	<local-producer>
            	<class>org.jboss.ejb3.test.consumer.DeploymentDescriptorQueueTestLocal</class>
         	</local-producer>
         	<current-message>
				<method>
               		<method-name>currentMessage</method-name>
            	</method>
            	<method>
               		<method-name>setMessage</method-name>
            	</method>
         	</current-message>
         	<message-properties>
            	<class>org.jboss.ejb3.test.consumer.DeploymentDescriptorQueueTest</class>
				<method>
		   			<method-name>method2</method-name>
	      		</method>
				<delivery>NonPersistent</delivery>
         	</message-properties>
         	<message-properties>
            	<class>org.jboss.ejb3.test.consumer.DeploymentDescriptorQueueTestXA</class>
				<method>
		   			<method-name>method2</method-name>
	      		</method>
				<delivery>Persistent</delivery>
            	<priority>4</priority>
         	</message-properties>
            <ejb-ref>
            	<ejb-ref-name>ejb/StatelessRemote</ejb-ref-name>
            	<ejb-ref-type>Session</ejb-ref-type>
            	<remote>org.jboss.ejb3.test.consumer.StatelessRemote</remote>
            	<ejb-link>StatelessBean</ejb-link>
                <jndi-name>StatelessBean/remote</jndi-name>
            	<injection-target>
               		<injection-target-class>org.jboss.ejb3.test.consumer.DeploymentDescriptorQueueTestConsumer</injection-target-class>
               		<injection-target-name>stateless</injection-target-name>
            	</injection-target>
         	</ejb-ref>
			<ejb-local-ref>
            	<ejb-ref-name>ejb/StatelessLocal</ejb-ref-name>
            	<ejb-ref-type>Session</ejb-ref-type>
            	<local>org.jboss.ejb3.test.consumer.StatelessLocal</local>
            	<ejb-link>StatelessBean</ejb-link>
                <jndi-name>StatelessBean/local</jndi-name>
            	<injection-target>
               		<injection-target-class>org.jboss.ejb3.test.consumer.DeploymentDescriptorQueueTestConsumer</injection-target-class>
               		<injection-target-name>setStatelessLocal</injection-target-name>
            	</injection-target>
         	</ejb-local-ref>
            <resource-ref>
            	<res-ref-name>testDatasource</res-ref-name>
            	<res-type>javax.sql.DataSource</res-type>
            	<res-auth>Container</res-auth>
            	<res-sharing-scope>Shareable</res-sharing-scope>
            	<mapped-name>java:/DefaultDS</mapped-name>
            	<injection-target>
               		<injection-target-class>org.jboss.ejb3.test.consumer.DeploymentDescriptorQueueTestConsumer</injection-target-class>
               		<injection-target-name>testDatasource</injection-target-name>
            	</injection-target>
         	</resource-ref>
            <resource-env-ref>
            	<description>A test of the resource-env-ref tag</description>
            	<resource-env-ref-name>res/aQueue</resource-env-ref-name>
            	<resource-env-ref-type>javax.jms.Queue</resource-env-ref-type>
                <jndi-name>queue/mdbtest</jndi-name>
         	</resource-env-ref>
      	</consumer>
   	</enterprise-beans>
</jboss>
